<div class="mb-2 text-end">
    <button nz-button nzType="primary" (click)="showModal()">Ajouter un utilisateur</button>
</div>

<nz-table #basicTable [nzData]="users" [nzBordered]="true">
    <thead>
      <tr>
        <th nzWidth="25%">First Name</th>
        <th nzWidth="25%">Last Name</th>
        <th nzWidth="20%">Email</th>
        <th nzWidth="10%">Role</th>
        <th nzWidth="20%">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of basicTable.data">
        <td>{{ user?.firstName }}</td>
        <td>{{ user?.lastName }}</td>
        <td>{{ user?.email }}</td>
        <td>{{ user?.role }}</td>
        <td>
          <button nz-button nzType="link" (click)="showModal(user)">Edit</button>
          <button nz-button nzType="link" nzDanger (click)="deleteUser(user.id)">Delete</button>
        </td>
      </tr>
    </tbody>
</nz-table>
  
  


  <nz-modal [(nzVisible)]="isVisible" [nzStyle]="{ top: '20px' }" nzCancelText="Annuller" nzOkText="Enregistrer" nzTitle="Créer un utilisateur" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
      <ng-container *nzModalContent>
        <form nz-form [formGroup]="userForm" style="width: 100%; height: 300px;">
            <div nz-form-item nz-row>
              <div nz-form-label nz-col [nzSpan]="6">
                <label for="firstName">Prénom</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="14">
                <input nz-input id="firstName" formControlName="firstName" />
              </div>
            </div>
            <div nz-form-item nz-row class="my-3">
              <div nz-form-label nz-col [nzSpan]="6">
                <label for="lastName">Nom</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="14">
                <input nz-input id="lastName" formControlName="lastName" />
              </div>
            </div>
            <div nz-form-item nz-row>
              <div nz-form-label nz-col [nzSpan]="6">
                <label for="email">Email</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="14">
                <input nz-input id="email" formControlName="email" />
              </div>
            </div>
            <div nz-form-item nz-row class="my-3">
              <div nz-form-label nz-col [nzSpan]="6">
                <label for="phoneNumber">Numéro</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="14">
                <input nz-input id="phoneNumber" formControlName="phoneNumber" />
              </div>
            </div>
            <div nz-form-item nz-row>
              <div nz-form-label nz-col [nzSpan]="6">
                <label for="role">Role</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="14">
                <nz-select class="w-100" formControlName="role" nzPlaceHolder="Select a role">
                  <nz-option *ngFor="let role of roles" [nzValue]="role" [nzLabel]="role"></nz-option>
                </nz-select>
              </div>
            </div>
            <div nz-form-item nz-row class="my-3">
              <div nz-form-label nz-col [nzSpan]="6">
                <label for="username">Nom d'utilisateur</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="14">
                <input nz-input id="username" formControlName="username" />
              </div>
            </div>
          </form>
      </ng-container>
    </nz-modal>


  